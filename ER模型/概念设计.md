# ER模型
## 实体(Entity)
- 现实世界的对象, 可以与其它对象区分
- 例如: 一个学生
## 实体集(Entity Set)
- 相似实体形成的集合
    - 例如: 学生的集合, 运动员的集合, 课程的集合, 教师的集合
    - 注意这些实体集之间可以有交集
- 实体的属性(Attribute)
    - 一个实体集的每个实体都有相同的属性
        - 例如: 学生可以有姓名, 学号, 出生日期, 专业等
    - 属性的取值范围是一个值域(Domain)
    - 属性的详细程度取决于应用的需要
## 键(Key)
- 某些属性是特殊的, 需要特别标记
- 键
    - 一个属性或多个属性的组合
    - **唯一确定**一个实体的属性集
        - 实体集中两个不同的实体, 键不同
    - **最小**, 如果是多个属性组合, 去除任何属性后都不是键
- 候选键(Candidate key)
    - 可能存在多个候选键
- 主键(Primary key)
    - 选定一个候选键为主键
## 联系, 联系集, 属性
- 联系(Relationship)
    - 两个或多个实体之间的关联
- 联系集(Relationship Set)
    - 类似联系的集合
    - {(e1, e2)|e1 ∈ E1, e2 ∈ E2}是一个二元联系
        - E1是一个实体集, e1是E1中的一个实体
        - E2是一个实体集, e2是E2中的一个实体
    - {(e1, ..., en)|e1 ∈ E1, ..., en ∈ En}是一个n-元联系
- 联系的属性
    - 联系可以包含属性, 不同于单个实体的属性
    - 用于描述联系, 而不是描述任何一个单一实体
# 实体集与联系集的关系
- 目的: 更加准确地描述实体参与联系的情况
- 每个实体参与几个联系?
    - 0个
    - 1个
    - 多个
    - ### 用箭头表示唯一一个联系, 粗线表示全部参与
# 粗线: 每个实体都有联系
- 考虑一个实体集与一个联系集
- 每个实体是否都参与到某个联系中呢
- 全部参与(Total participation)
    - 每个实体**都参与**到某个联系中, 用**粗线**表示
- 部分参与(Partial participation)
    - 可能存在实体没有参与到联系中, 用细线表示
# 弱实体(Weak Entities)
- 每个Weak entity必须有且仅有唯一的owner entity:
    - 粗线: 每个weak entity必须参与一个联系
    - 箭头: 每个weak entity仅参与一个联系
# 弱实体集(Weak Entities Set)
- 定义: 一个实体集E, 如果它的所有属性集均不能独立成键, 即键中必须包含另一实体集F的键, 则E是弱实体集
- 反过来, 对owner entity没有限制
# 部分键(Partial Key)
- 用虚线下划线表示
# 类层次
- 目的
    - 某些属性只对部分实体有意义: 或者某种联系只与部分实体相关
- 用ISA表示实体集之间的继承关系
- 子实体集的属性包含父实体集的属性+增加的属性
# 类层次的约束
- 交迭约束(Overlap)
    - 两个子类是否可以有交集? 存在共同的实体
    - 默认: 不相交(交集为空)
    - 如有, 需要文字特殊说明
- 覆盖约束(Covering)
    - 多个子类的并集是否覆盖了父实体集?
    - 默认: 没有覆盖约束(并集不是全集)
    - 如有, 需要文字特殊说明
# 如何选择是用实体还是用属性来表示一个名词?
- 考虑两方面
    - 只有一个值, 还是可以有多个值
    - 是简单的值, 还是有丰富的内部结构
- 采用属性, 必须**同时满足**两个条件
    - 只有一个值
    - 是简单的值
- 否则, 任何一个条件不满足, 就要用实体表示
- 将多元联系转化成多个二元联系进行表示 --> 用于连接的实体集是一个*弱实体集*

